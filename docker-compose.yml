services:
  ci-server:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: ci-server-group8
    ports:
      # Host:container â€” app always listens on 8080 inside container.
      # Use 8080:8080 locally; on KTH shared machines use 8008:8080 (port 8000+group#).
      - "8080:8080"
    environment:
      - JAVA_OPTS=-Xmx512m -Xms256m
      # Personal access token used by StatusToGithub inside the container.
      # Set it in your shell before running docker compose:
      #   export GH_TOKEN=ghp_xxx
      # so docker-compose can forward it into the container.
      - GH_TOKEN=${GH_TOKEN}
    restart: unless-stopped
    networks:
      - ci-network

networks:
  ci-network:
    driver: bridge
